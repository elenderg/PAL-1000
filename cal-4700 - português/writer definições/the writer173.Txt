To externalize a shape given a buffer and an indent (text):
Append the space byte to the buffer given the indent.
Append "text" to the buffer.
Externalize the shape's border given the buffer and the indent.
Externalize the shape's fill given the buffer and the indent.
Externalize the shape's text rect given the buffer and the indent.
Externalize the shape's label given the buffer and the indent.
Externalize the shape's text given the buffer and the indent.
Append the space byte to the buffer given the indent.
Append "end" to the buffer.
Advance the buffer.
