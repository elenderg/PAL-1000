To calculate the offsets in some types:
If the compiler's abort flag is set, exit.
Get a type from the types.
If the type is nil, exit.
Calculate the offsets in the type.
Repeat.
