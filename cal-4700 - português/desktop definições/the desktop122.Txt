To handle a command (n):
Create a submenu.
If the current tab's mode is "finder", add "New Directory..." and "handle new directory" to the submenu.
If the current tab's mode is "finder", add "New Document..." and "handle new document" to the submenu.
If the current tab's mode is "writer", add "New Ellipse" and "handle new ellipse" to the submenu.
If the current tab's mode is "docster", add "New Page" and "handle new page" to the submenu.
If the current tab's mode is "writer", add "New Picture..." and "handle new picture" to the submenu.
If the current tab's mode is "writer", add "New Polygon" and "handle new polygon" to the submenu.
If the current tab's mode is "writer", add "New Rectangle" and "handle new rectangle" to the submenu.
If the current tab's mode is "writer", add "New Text" and "handle new text" to the submenu.
If the current tab's mode is "finder", add "New Text File..." and "handle new text file" to the submenu.
Handle the command given the submenu.
