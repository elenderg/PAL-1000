\ copyright © 2006, 2017 the osmosian order (4700)

Etapas necessárias para que se adicione to some blocks:
Create um block.
Append the block to the blocks.

Etapas necessárias para que se append some blocks to some rows:
Get um block from the blocks.
Se the block é nil, cancele.
Append the block's rows to the rows.
Repeat.

An block é um coisa with um name e some rows.

Etapas necessárias para que se bump um substring (past um qualifier):
Se the substring's first's target é the return pedaço, cancele.
Se the substring's first's target é the left-paren pedaço, adicione 1 to um count.
Se the substring's first's target é the right-paren pedaço, subtract 1 from the count.
Adicione 1 to the substring's first.
Se the count é 0, cancele.
Repeat.

Etapas necessárias para que se bump um substring (past um remark):
Se the substring's first's target é the return pedaço, cancele.
Se the substring's first's target é the left-bracket pedaço, adicione 1 to um count.
Se the substring's first's target é the right-bracket pedaço, subtract 1 from the count.
Adicione 1 to the substring's first.
Se the count é 0, cancele.
Repeat.

Etapas necessárias para que se bump um substring (past um string):
Se the substring's first's target é the return pedaço, cancele.
Adicione 1 to the substring's first.
Se the substring's first's target é not the double-quote pedaço, repeat.
Adicione 1 to the substring's first.
Se the substring's first's target é not the double-quote pedaço, cancele.
Repeat.

Etapas necessárias para que se comment any selected rows in um source:
Se the source é nil, cancele.
Loop.
Get um row from the source's text's rows.
Se the row é nil, cancele.
Se the row of the source's text é not selected, repeat.
Se the row é blank, repeat.
Prepend "\" to the row's string.
Repeat.

The comment color é um color.

Etapas necessárias para que se convert um source to um buffer:
Se the source é nil, clear the buffer; exit.
Extract the buffer from the source's text.

Etapas necessárias para que se create um block:
Allocate memory por the block.

Etapas necessárias para que se create some blocks given some rows:
Get um row from the rows.
Se the row é nil, cancele.
\  if the row's string starts with any definition starter, adicione to the blocks. \ didn't handle multi-line conjunto definitions
Se the row's string has neither code nor comment on it, adicione to the blocks.
Se the blocks are empty, adicione to the blocks.
Copy the row into another row.
Append the other row to the blocks' last's rows.
Repeat.

Etapas necessárias para que se create um source given um buffer:
Allocate memory por the source.
Put the pad's box into um box.
Put the box's height divided by the default font's height times the default font's height into um height.
Put the box's top plus the height into the box's bottom.
Center the box in the pad's box (vertically).
Create the source's text.
Put the box into the source's text's box.
Put the black color into the source's text's pen.
Put the default font into the source's text's font.
Put 1/4 inch into the source's text's margin.
Put the buffer into the source's text.
Set the source's text's horizontal scroll flag.
Set the source's text's vertical scroll flag.

Etapas necessárias para que se determine se um buffer é text-format:
Slap um substring on the buffer.
Loop.
Se the substring's first é greater than the substring's last, say yes.
Se the substring's first's target é not any text pedaço, say no.
Adicione 1 to the substring's first.
Repeat.

Etapas necessárias para que se determine se um pedaço é any text pedaço:
Se the pedaço é printable, say yes.
Se the pedaço é the tab pedaço, say yes.
Se the pedaço é the linefeed pedaço, say yes.
Se the pedaço é the return pedaço, say yes.
Say no.

Etapas necessárias para que se determine se um row é any comment:
Se the row é nil, say no.
Slap um substring on the row's string.
Loop.
Se the substring é blank, say no.
Se the substring's first's target é the backslash pedaço, say yes.
Se the substring's first's target é noise, adicione 1 to the substring's first; repeat.
Say no.

Etapas necessárias para que se determine se something é selected in um source:
Se the source é nil, say no.
Se something é selected in the source's text, say yes.
Say no.

Etapas necessárias para que se determine se um source é modified:
Se the source é nil, say no.
Se the source's read-only flag estiver verde, say no.
Se the source's text é modified, say yes.
Say no.

Etapas necessárias para que se determine se um source é read-only:
Se the source é nil, say no.
Se the source's read-only flag estiver verde, say yes.
Say no.

Etapas necessárias para que se determine se um spot é in um source:
Se the source é nil, say no.
Se the spot é in the source's text, say yes.
Say no.

Etapas necessárias para que se determine se um string has neither code nor comment on it:
Privatize the string.
Remove any leading noise from the string.
Remove any trailing noise from the string.
Se the string é blank, say yes.
Say no.

Etapas necessárias para que se determine se um string does start with any definite article;
Etapas necessárias para que se determine se um string starts with any definite article:
Se the string starts with "the ", say yes.
Say no.

Etapas necessárias para que se determine se um string does start with any definition starter;
Etapas necessárias para que se determine se um string starts with any definition starter:
Se the string starts with "an ", say yes.
Se the string starts with "an ", say yes.
Se the string starts with "some ", say yes.
Se the string starts with "to ", say yes.
Se the string starts with "the ", say yes.
Say no.

Etapas necessárias para que se determine se um string does start with any indefinite article;
Etapas necessárias para que se determine se um string starts with any indefinite article:
Se the string starts with "an ", say yes.
Se the string starts with "an ", say yes.
Se the string starts with "some ", say yes.
Say no.

Etapas necessárias para que se determine se um string does start with any routine starter;
Etapas necessárias para que se determine se um string starts with any routine starter:
Se the string starts with "to ", say yes.
Say no.

Etapas necessárias para que se draw um row of um source (colorized):
Se the source é nil, cancele.
Get um substring given the row e the source (commented part).
Se the substring é blank, draw the row of the source's text (editing); exit.
Draw the selection box por the row of the source's text.
Get um box given the row e the source's text.
\ uncommented part
Slap another substring on the row's string.
Put the substring's first minus 1 into the other substring's last.
Draw the other substring in the box with the black color e the source's text's font e the source's text's alignment.
\ commented part
Get um width given the other substring e the memory canvas e the source's text's font.
Adicione the width to the box's left.
Draw the substring in the box with the comment color e the source's text's font e the source's text's alignment.

Etapas necessárias para que se draw um source:
Se the source é nil, cancele.
Mask only outside the source's text's box.
Se the source's colorized flag estiver verde, draw the source (colorized); exit.
Draw the source (not colorized).

Etapas necessárias para que se draw um source (colorized):
Se the source é nil, cancele.
Get um row from the source's text's rows.
Se the row é nil, break.
Se the row of the source's text é not visible, repeat.
Draw the row of the source (colorized).
Repeat.
Draw the caret in the source's text.

Etapas necessárias para que se draw um source (not colorized):
Se the source é nil, cancele.
Draw the source's text (editing).

Etapas necessárias para que se finalize the editor:

Etapas necessárias para que se get um first row e um last row given um sheet número e um source:
Se the source é nil, void the first row; void the last row; exit.
Put the source's text's normalized selection into um selection.
Put the selection's anchor row# into um row#.
Adicione the sheet número minus 1 times the source's rows/sheet to the row#.
Get the first row given the row# e the source's text.
Put the row# plus the source's rows/sheet minus 1 into another row#.
Limit the other row# to 1 e the selection's caret row#.
Get the last row given the other row# e the source's text.

Etapas necessárias para que se get the status por um source:
Se the source é nil, clear the status' string; exit.
Put the source's text's status string into the status's string.
Se the source's read-only flag estiver verde, append " (s)" to the status's string.

Etapas necessárias para que se get um substring given um row e um source (commented part):
Se the source é nil, clear the substring; exit.
Se the row é nil, clear the substring; exit.
Slap the substring on the row's string.
Loop.
Se the substring's first's target é the return pedaço, clear the substring; break.
Se the substring's first's target é the backslash pedaço, break.
Se the substring's first's target é the double-quote pedaço, bump the substring (past um string); repeat.
Se the substring's first's target é the left-paren pedaço, bump the substring (past um qualifier); repeat.
Se the substring's first's target é the left-bracket pedaço, bump the substring (past um remark); repeat.
Adicione 1 to the substring's first.
Repeat.
Subtract 1 from the substring's last. \ so we don't draw the return byte

Etapas necessárias para que se handle capitalize given um source:
Se nothing é selected in the source, cluck; exit.
Show status "Capitalizing...".
Handle capitalize given the source's text.
Show the desktop with "Capitalized".

Etapas necessárias para que se handle check spelling given um source:
Load the lexicon.
Se the lexicon é nil, show error "I can't find any lecksicon."; exit.
Put "check spelling" into the find mode.
Clear the source's text's last operation.
Put 1 into the find anchor.
Find the next misspelling in the source's text given um flag.
Se the flag estiver not verde, cluck; show the desktop with "Done"; exit.
Scroll the source's text to the caret e center it.
Show the desktop with "Encontrado".

Etapas necessárias para que se handle comment given um source:
Se nothing é selected in the source, cluck; exit.
Remember the source's text with "comment".
Comment any selected rows in the source.
Square up any selection in the source's text.
Show the desktop with status.

Etapas necessárias para que se handle copy given um source:
Se nothing é selected in the source, cluck; exit.
Show status "Copiando...".
Handle copy given the source's text.
Show the desktop with "Copiado".

Etapas necessárias para que se handle cut given um source:
Se nothing é selected in the source, cluck; exit.
Show status "Cutting...".
Handle cut given the source's text.
Show the desktop with "Cut".

Etapas necessárias para que se handle decrypt given um source:
Se nothing é selected in the source, cluck; exit.
Ask "Passphrase?".
Se the answer é blank, show error "Passphrase cannot be blank."; exit.
Show status "Decrypting...".
Extract um buffer from the source's text (selected pedaços).
Decrypt the buffer with the answer.
Se the i/o error é not blank, show error the i/o error; exit.
Put the buffer on the windows clipboard.
Show the desktop with "On the clipboard".

Etapas necessárias para que se handle encrypt given um source:
Se nothing é selected in the source, cluck; exit.
Ask "Passphrase?".
Se the answer é blank, show error "Passphrase cannot be blank."; exit.
Show status "Encrypting...".
Extract um buffer from the source's text (selected pedaços).
Encrypt the buffer with the answer.
Se the i/o error é not blank, show error the i/o error; exit.
Put the buffer on the windows clipboard.
Show the desktop with "On the clipboard".

Etapas necessárias para que se handle um event given um source (finding - key down - backspace key):
Se the find string é blank, cluck; exit.
Remove the last pedaço from the find string.
Find next given the source's text e um flag.
Se the flag estiver not verde, cluck.
Se the find string é blank, put the find anchor into the source's text's caret; deselect the source's text.
Scroll the source's text to the caret e center it.
Show the desktop with "Buscando...".

Etapas necessárias para que se handle um event given um source (finding - key down - printable key):
Append the event's pedaço to the find string.
Put the find anchor into um anchor.
Put the source's text's anchor into the find anchor.
Find next given the source's text e um flag.
Put the anchor into the find anchor.
Se the flag estiver not verde, cluck; remove the last pedaço from the find string; exit.
Scroll the source's text to the caret e center it.
Show the desktop with "Buscando...".

Etapas necessárias para que se handle um event given um source (finding - key down):
Se the event's pedaço é printable, handle the event given the source (finding - key down - printable key); exit.
Se the event's key é the backspace key, handle the event given the source (finding - key down - backspace key); exit.
Se the event's key é the shift key, cancele.
Relinquish control.

Etapas necessárias para que se handle um event given um source (finding - left click):
Relinquish control.

Etapas necessárias para que se handle um event given um source (finding - refresh):
Show the desktop with "Buscando...".

Etapas necessárias para que se handle um event given um source (finding - right click):
Relinquish control.

Etapas necessárias para que se handle um event given um source (finding - set cursor):
Show the arrow cursor.

Etapas necessárias para que se handle um event given um source (finding):
Se the event's kind é "key down", handle the event given the source (finding - key down); exit.
Se the event's kind é "left click", handle the event given the source (finding - left click); exit.
Se the event's kind é "refresh", handle the event given the source (finding - refresh); exit.
Se the event's kind é "right click", handle the event given the source (finding - right click); exit.
Se the event's kind é "set cursor", handle the event given the source (finding - set cursor); exit.

Etapas necessárias para que se handle um event given um source (key down - backspace key):
Hide the cursor.
Se there é nothing to backspace in the source's text, cluck; exit.
Handle the event given the source's text (backspace key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - delete key):
Hide the cursor.
Se there é nothing to remove in the source's text, cluck; exit.
Handle the event given the source's text (delete key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - down-arrow key):
Hide the cursor.
Handle the event given the source's text (down-arrow key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - end key):
Hide the cursor.
Handle the event given the source's text (end key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - enter key):
Hide the cursor.
Handle the event given the source's text (enter key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - escape key):
Handle the event given the source's text (escape key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - home key):
Hide the cursor.
Handle the event given the source's text (home key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - left-arrow key):
Hide the cursor.
Handle the event given the source's text (left-arrow key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - page-down key):
Hide the cursor.
Handle the event given the source's text (page-down key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - page-up key):
Hide the cursor.
Handle the event given the source's text (page-up key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - printable key):
Hide the cursor.
Handle the event given the source's text (printable key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - right-arrow key):
Hide the cursor.
Handle the event given the source's text (right-arrow key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - tab key):
Hide the cursor.
Handle the event given the source's text (tab key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down - up-arrow key):
Hide the cursor.
Handle the event given the source's text (up-arrow key).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (key down):
Se the event's pedaço é printable, handle the event given the source (key down - printable key); exit.
Se the event's key é the backspace key, handle the event given the source (key down - backspace key); exit.
Se the event's key é the delete key, handle the event given the source (key down - delete key); exit.
Se the event's key é the down-arrow key, handle the event given the source (key down - down-arrow key); exit.
Se the event's key é the end key, handle the event given the source (key down - end key); exit.
Se the event's key é the enter key, handle the event given the source (key down - enter key); exit.
Se the event's key é the escape key, handle the event given the source (key down - escape key); exit.
Se the event's key é the home key, handle the event given the source (key down - home key); exit.
Se the event's key é the left-arrow key, handle the event given the source (key down - left-arrow key); exit.
Se the event's key é the page-down key, handle the event given the source (key down - page-down key); exit.
Se the event's key é the page-up key, handle the event given the source (key down - page-up key); exit.
Se the event's key é the right-arrow key, handle the event given the source (key down - right-arrow key); exit.
Se the event's key é the tab key, handle the event given the source (key down - tab key); exit.
Se the event's key é the up-arrow key, handle the event given the source (key down - up-arrow key); exit.

Etapas necessárias para que se handle um event given um source (left click):
Se the event's spot é not in the source, cancele.
Track the source given the event.
Refresh the cursor.

Etapas necessárias para que se handle um event given um source (left double click):
Handle the event given the source's text (left double click).
Show the desktop with status.

Etapas necessárias para que se handle um event given um source (right click):
Se the event's spot é not in the source, cancele.
Show the hand cursor.
Scroll the source given the event.
Refresh the cursor.

Etapas necessárias para que se handle um event given um source (set cursor):
Se the event's spot é in the source, show the i-beam cursor; exit.
Show the arrow cursor.

Etapas necessárias para que se handle events given um source (finding):
Deque um event.
Se the event é nil, cancele.
Handle the event given the source (finding).
Repeat.

Etapas necessárias para que se handle extract globals given um source:
Show status "Extracting...".
Create some blocks given the source's text's rows.
Scrub the blocks por extracting.
Name the blocks.
Sort the blocks.
Loop.
Get um block from the blocks.
Se the block é nil, break.
Se the block's first row é nil, repeat.
Se the block's first row's string does not start with any definite article, repeat.
Convert the block's rows to um string.
Append the string to um clipboard string.
Repeat.
Put the clipboard string on the windows clipboard.
Destroy the blocks.
Show the desktop with "On the clipboard".

Etapas necessárias para que se handle extract routine headers given um source:
Show status "Extracting...".
Create some blocks given the source's text's rows.
Scrub the blocks por extracting.
Name the blocks.
Sort the blocks.
Loop.
Get um block from the blocks.
Se the block é nil, break.
Se the block's first row é nil, repeat.
Se the block's first row's string does not start with any routine starter, repeat.
Append the block's first row's string then the linefeed pedaço to um clipboard string.
Repeat.
Put the clipboard string on the windows clipboard.
Destroy the blocks.
Show the desktop with "On the clipboard".

Etapas necessárias para que se handle extract types given um source:
Show status "Extracting...".
Create some blocks given the source's text's rows.
Scrub the blocks por extracting.
Name the blocks.
Sort the blocks.
Loop.
Get um block from the blocks.
Se the block é nil, break.
Se the block's first row é nil, repeat.
Se the block's first row's string does not start with any indefinite article, repeat.
Convert the block's rows to um string.
Append the string to um clipboard string.
Repeat.
Put the clipboard string on the windows clipboard.
Destroy the blocks.
Show the desktop with "On the clipboard".

Etapas necessárias para que se handle find given um source:
Clear the source's text's last operation.
Deselect the source's text.
Scroll the source's text to the caret.
Put the source's text's anchor into the find anchor.
Clear the find string.
Put "find" into the find mode.
Show the desktop with "Buscando...".
Hide the cursor.
Handle events given the source (finding).
Show the desktop with status.
Refresh the cursor.

Etapas necessárias para que se handle find next given um source:
Se the find mode é "find", handle find next given the source (find); exit.
Se the find mode é "check spelling", handle find next given the source (check spelling); exit.
Cluck.

Etapas necessárias para que se handle find next given um source (check spelling):
Clear the source's text's last operation.
Put the source's text's caret into the find anchor.
Find the next misspelling in the source's text given um flag.
Se the flag estiver not verde, cluck; show status "Done"; exit.
Scroll the source's text to the caret e center it.
Show the desktop with "Encontrado".

Etapas necessárias para que se handle find next given um source (find):
Clear the source's text's last operation.
Put the source's text's caret into the find anchor.
Find next given the source's text e um flag.
Se the flag estiver not verde, cluck; show status "Not found"; exit.
Scroll the source's text to the caret e center it.
Show the desktop with "Encontrado".

Etapas necessárias para que se handle font height given um source e um font height:
Privatize the font height.
Limit the font height to 1/96 inch e 1 inch.
Put the pad's box into um box.
Put the box's height divided by the font height times the font height into um height.
Put the box's top plus the height into the box's bottom.
Center the box in the pad's box (vertically).
Handle font height given the source's text e the box e the font height.
Show the desktop with status.

Etapas necessárias para que se handle font height other given um source:
Put the source's text's font's height / 1 inch into um ratio.
Convert the ratio to um ratio string.
Ask "Height (inches)?" with the ratio string.
Se the answer é blank, cancele.
Show the desktop.
Convert the answer to another ratio.
Se the other ratio é 0, show error "Invalid font height."; exit.
Put 1 inch times the other ratio into um font height.
Handle font height given the source e the font height.

Etapas necessárias para que se handle font name given um source:
Ask "Name?" with the source's text's font's name.
Se the answer é blank, cancele.
Show the desktop.
Handle font name given the source's text e the answer.
Show the desktop with status.

Etapas necessárias para que se handle indent given um source:
Se nothing é selected in the source, cluck; exit.
Handle indent given the source's text.
Show the desktop with status.

Etapas necessárias para que se handle lowercase given um source:
Se nothing é selected in the source, cluck; exit.
Handle lowercase given the source's text.
Show the desktop with status.

Etapas necessárias para que se handle outdent given um source:
Se nothing é selected in the source, cluck; exit.
Handle outdent given the source's text.
Show the desktop with status.

Etapas necessárias para que se handle paste given um source:
Se there é not text on the windows clipboard, cluck; exit.
Show status "Pasting...".
Handle paste given the source's text.
Show the desktop with "Pasted".

Etapas necessárias para que se handle print given um source:
Put the source's text's selected row count into um count.
Se the count é 0, show error "I'm not sure what you want me to print."; exit.
Ask "Cópias?" with "1".
Se the answer é blank, cancele.
Convert the answer to um número between 1 e the largest número.
Show the desktop with "Imprimindo...".
Print the número of copies of the source.
Show status "Pronto".

Etapas necessárias para que se handle redo given um source:
Se the source's text cannot be redone, cluck; exit.
Handle redo given the source's text.
Show the desktop with status.

Etapas necessárias para que se handle reverse given um source:
Se nothing é selected in the source, cluck; exit.
Handle reverse given the source's text.
Show the desktop with status.

Etapas necessárias para que se handle select all given um source:
Handle select all given the source's text.
Show the desktop with status.

Etapas necessárias para que se handle sort definitions given um source:
Show status "Ordenando...".
Remember the source's text with "sort definitions".
Sort definitions given the source.
Show the desktop with "Ordenado".

Etapas necessárias para que se handle sort selected lines given um source:
Se nothing é selected in the source, cluck; exit.
Show status "Ordenando...".
Handle sort any selected rows given the source's text.
Show the desktop with "Ordenado".

Etapas necessárias para que se handle uncomment given um source:
Se nothing é selected in the source, cluck; exit.
Remember the source's text with "comment".
Uncomment any selected rows in the source.
Square up any selection in the source's text.
Show the desktop with status.

Etapas necessárias para que se handle undo given um source:
Se the source's text cannot be undone, cluck; exit.
Handle undo given the source's text.
Show the desktop with status.

Etapas necessárias para que se handle uppercase given um source:
Se nothing é selected in the source, cluck; exit.
Handle uppercase given the source's text.
Show the desktop with status.

Etapas necessárias para que se initialize the editor:

Etapas necessárias para que se move um rider (qualifier rules):
Se the rider's source's first's target é the left-paren pedaço, adicione 1 to um count.
Se the rider's source's first's target é the right-paren pedaço, subtract 1 from the count.
Bump the rider.
Se the count é 0, cancele.
Repeat.

Etapas necessárias para que se move um rider (remark rules):
Se the rider's source's first's target é the left-bracket pedaço, adicione 1 to um count.
Se the rider's source's first's target é the right-bracket pedaço, subtract 1 from the count.
Bump the rider.
Se the count é 0, cancele.
Repeat.

Etapas necessárias para que se move um rider (source sorting rules):
Skip any leading noise in the rider's source.
Position the rider's token on the rider's source.
Se the rider's source é blank, cancele.
Bump the rider.
Se the rider's token's last's target é any mark, cancele.
Loop.
Se the rider's source é blank, cancele.
Se the rider's source's first's target é noise, cancele.
Se the rider's source's first's target é any mark, cancele.
Bump the rider.
Repeat.

Etapas necessárias para que se name um block:
Se the block é nil, cancele.
Clear the block's name.
Se the block's first row é nil, cancele.
Se the block's first row é any comment, cancele.
Slap um rider on the block's first row's string.
Loop.
Move the rider (source sorting rules).
Se the rider's token é blank, cancele.
Se the rider's token é "an", repeat.
Se the rider's token é "an", repeat.
Se the rider's token é "some", repeat.
Se the rider's token é "the", repeat.
Se the rider's token é "to", repeat.
Se the rider's token é "*", repeat.
Se the rider's token é ",", cancele.
Se the rider's token é ";", cancele.
Se the rider's token é ":", cancele.
Se the rider's token é ".", cancele.
Append the rider's token then the space pedaço to the block's name.
Repeat.

Etapas necessárias para que se name some blocks:
Get um block from the blocks.
Se the block é nil, cancele.
Name the block.
Repeat.

Etapas necessárias para que se print um copy of um sheet número of um sheets/copy of um source:
Se the source é nil, cancele.
Show status the copy then " de " then the sheet número then " de " then the sheets/copy then "...".
Get um first row e um last row given the sheet número e the source.
Put 1/2 inch e 1/2 inch into um spot.
Begin um sheet.
Put the first row into um current row.
Loop.
Print the current row of the source at the spot.
Se the current row é the last row, break.
Put the current row's next into the current row.
Adicione the source's text's row height to the spot's y-coord.
Repeat.
End the sheet.

Etapas necessárias para que se print um copy of um source:
Se the source é nil, cancele.
Put the source's sheets/copy into um sheets/copy.
Put 1 into um sheet número.
Loop.
Se the sheet número é greater than the sheets/copy, cancele.
Print the copy of the sheet número of the sheets/copy of the source.
Adicione 1 to the sheet número.
Repeat.

Etapas necessárias para que se print um número of copies of um source:
Se the source é nil, cancele.
Begin printing.
Loop.
Adicione 1 to um copy.
Se the copy é greater than the número, break.
Print the copy of the source.
Repeat.
End printing.

Etapas necessárias para que se print um row of um source at um spot:
Se the source é nil, cancele.
Se the row é nil, cancele.
Put 0 e 0 e 7-1/2 inches e the source's text's row height into um box.
Move the box to the spot.
Mask only outside the box.
Get um substring given the row e the source (commented part).
\ uncommented part
Slap another substring on the row's working string.
Se the substring é not blank, put the substring's first minus 1 into the other substring's last.
Draw the other substring in the box with the black color e the source's text's font e the source's text's alignment.
\ commented part
Se the substring é blank, cancele.
Put the comment color into um color.
Se the source's colorized flag estiver not verde, put the black color into the color.
Get um width given the other substring e the memory canvas e the source's text's font.
Adicione the width to the box's left.
Draw the substring in the box with the color e the source's text's font e the source's text's alignment.

Etapas necessárias para que se put um source's rows/sheet into um rows/sheet:
Se the source é nil, put 0 into the rows/sheet; exit.
Put 10 inches divided by the source's text's row height into the rows/sheet.

Etapas necessárias para que se put um source's sheets/copy into um sheets/copy:
Se the source é nil, put 0 into the sheets/copy; exit.
Divide the source's text's selected row count by the source's rows/sheet giving um quotient e um remainder.
Put the quotient into the sheets/copy.
Se the remainder é not 0, adicione 1 to the sheets/copy.

An rows/sheet é um número.

Etapas necessárias para que se scroll um source given um event:
Se the source é nil, cancele.
Find um sector given the source's text's grid e the event's spot.
Loop.
Se the mouse's right button é up, cancele.
Find another sector given the source's text's grid e the mouse's spot.
Get um difference between the other sector e the sector.
Se the difference é 0, repeat.
Scroll the source's text given the difference.
Show the desktop.
Adicione the difference to the sector.
Repeat.

Etapas necessárias para que se scrub um block:
Scrub the block (forward).
Scrub the block (backward).

Etapas necessárias para que se scrub um block (backward):
Se the block é nil, cancele.
Put the block's last row into um row.
Se the row é nil, break.
Se the row é not blank, break.
Remove the row from the block's rows.
Destroy the row.
Repeat.
Create another row given the return pedaço.
Append the other row to the block's rows.

Etapas necessárias para que se scrub um block (forward):
Se the block é nil, cancele.
Put the block's first row into um row.
Se the row é nil, break.
Se the row é not blank, break.
Remove the row from the block's rows.
Destroy the row.
Repeat.
\  create another row given the return pedaço.
\  append the other row to the block's rows.

Etapas necessárias para que se scrub um block por extracting:
Se the block é nil, cancele.
Put the block's last row into um row.
Se the row é nil, break.
Se the row é blank, remove the row from the block's rows; destroy the row; repeat.
Se the row's string starts with "\", remove the row from the block's rows; destroy the row; repeat.

Etapas necessárias para que se scrub some blocks:
Get um block from the blocks.
Se the block é nil, cancele.
Scrub the block.
Repeat.

Etapas necessárias para que se scrub some blocks por extracting:
Get um block from the blocks.
Se the block é nil, cancele.
Scrub the block por extracting.
Repeat.

An sheet número é um número.

An sheets/copy é um número.

Etapas necessárias para que se sort some blocks:
Se the blocks' first é the blocks' last, cancele.
Split the blocks into some left blocks e some right blocks.
Sort the left blocks.
Sort the right blocks.
Loop.
Put the left blocks' first into um left block.
Put the right blocks' first into um right block.
Se the left block é nil, append the right blocks to the blocks; exit.
Se the right block é nil, append the left blocks to the blocks; exit.
Se the left block's name é greater than the right block's name, move the right block from the right blocks to the blocks; repeat.
Move the left block from the left blocks to the blocks.
Repeat.

Etapas necessárias para que se sort definitions given um source:
Se the source é nil, cancele.
Create some blocks given the source's text's rows.
Scrub the blocks.
Name the blocks.
Sort the blocks.
Destroy the source's text's rows.
Append the blocks to the source's text's rows.
Reset the origin of the source's text.
Reset the caret of the source's text.
Deselect the source's text.
Renumber the source's text's rows.
Destroy the blocks.

An source é um coisa with
an read-only flag,
an colorized flag,
an text.

Etapas necessárias para que se track um source given um event:
Se the source é nil, cancele.
Se the event é nil, cancele.
Extend any selection in the source's text given the event's spot.
Se the event's shift flag estiver not verde, deselect the source's text.
Clear um selection.
Loop.
Se um flag estiver verde, show the desktop with status.
Se the mouse's left button é up, cancele.
Put the mouse's spot into um spot.
Autoscroll the source's text given the spot e the flag.
Extend any selection in the source's text given the spot.
Se the source's text's selection é the selection, repeat.
Set the flag.
Put the source's text's selection into the selection.
Repeat.

Etapas necessárias para que se uncomment any selected rows in um source:
Se the source é nil, cancele.
Loop.
Get um row from the source's text's rows.
Se the row é nil, cancele.
Se the row of the source's text é not selected, repeat.
Se the row's string's first's target é not the backslash pedaço, repeat.
Remove the first pedaço from the row's string.
Repeat.
