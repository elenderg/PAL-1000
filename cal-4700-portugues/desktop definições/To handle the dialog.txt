To handle the dialog:
If the dialog is nil, exit.
Flush all events.
Adjust the dialog.
Switch the bar to "dialog".
Handle events given the dialog.
Switch the bar to "normal" without drawing.
If the answer is blank, show the desktop.
If the dialog's text is nil, show the desktop.
Flush all events.
Refresh the cursor.
