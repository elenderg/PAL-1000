To handle an event:
If the event is nil, exit.
If the event's kind is "key down", handle the event (key down); exit.
If the event's kind is "left click", handle the event (left click); exit.
If the event's kind is "left double click", handle the event (left double click); exit.
If the event's kind is "refresh", handle the event (refresh); exit.
If the event's kind is "right click", handle the event (right click); exit.
If the event's kind is "set cursor", handle the event (set cursor); exit.
