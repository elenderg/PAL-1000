To handle a command (s):
Create a submenu.
If the current tab's mode is "editor", add "Save" and "S" and "handle save" to the submenu.
If the current tab's mode is "docster", add "Save" and "S" and "handle save" to the submenu.
If the current tab's mode is "writer", add "Save" and "S" and "handle save" to the submenu.
Add "Save All" and "handle save all" to the submenu.
If the current tab's mode is "docster", add "Save as PDF..." and "handle save as pdf" to the submenu.
Add "Select All" and "A" and "handle select all" to the submenu.
If the current tab's mode is "writer", add "Send to Back" and "handle send to back" to the submenu.
If the current tab's mode is "writer", add "Show Grid" and "handle grid given yes" to the submenu.
If the current tab's mode is "writer", add "Smooth" and "M" and "handle smooth" to the submenu.
If the current tab's mode is "editor", add "Sort..." and "sort..." to the submenu.
If the current tab's mode is "finder", add "Sort..." and "sort..." to the submenu.
If the current tab's mode is "editor", add "Stop" and "handle stop" to the submenu.
If the current tab's mode is "finder", add "Stop" and "handle stop" to the submenu.
Handle the command given the submenu.
