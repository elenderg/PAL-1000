If the row is nil, exit.
Add 1 to a row#.
Put the row# into the row's row#.
Repeat.

To replace a byte with another byte in a string:
